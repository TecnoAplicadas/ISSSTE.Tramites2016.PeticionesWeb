
@{
    ViewBag.Title = "Reporter Estadistico";
    Layout = "~/Views/Shared/_LayoutPeticiones.cshtml";
}



@using (Html.BeginForm("Index", "ReporteOptimizado", FormMethod.Post))
{
    <div class="container-fluid">

        <div class="row">
            <button class="btn btn-primary" id="DescargarReporte" name="DescargarReporte" type="submit">
                <span>Descargar Reporte</span>
                <span class="glyphicon glyphicon-arrow-down"></span>
            </button>
        </div>

        <div class="row">
            <a href="@Url.Action("Index")" class="btn btn-default">
                <span>Descargar</span>
                <span class="glyphicon glyphicon-arrow-down"></span>
            </a>
        </div>

    </div>
}

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script>
    $(function () {
        $("#DescargarReporte").click(function () {
            $.ajax({
                global: false,
                type: "POST",
                url: '@Url.Action("ReporteOptimizado", "Index")',
                beforeSend: function () {
                    $(".modal").show();
                },
                complete: function () {
                    $(".modal").show();
                },
                success: function () {
                    $(".modal").hide();
                }
            });

        });
    });
</script>

<div class="modal" id="pleaseWaitDialog" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="dialog-container">
            <div class="dialog-image">
                <div class="dialog-message" style="background-color:#ffffff; height:60px;" align="center">
                    <h2>
                        <img src="data:image/gif;base64,R0lGODlhGAAYAJECAP///5mZmf///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgACACwAAAAAGAAYAAACQJQvAGgRDI1SyLnI5jr2YUQx10eW5hmeB6Wpkja5SZy6tYzn+g5uMhuzwW6lFtF05CkhxGQm+HKuoDPplOlDFAAAIfkEBQoAAgAsFAAGAAQABAAAAgVUYqeXUgAh+QQFCgACACwUAA4ABAAEAAACBVRip5dSACH5BAUKAAIALA4AFAAEAAQAAAIFVGKnl1IAIfkEBQoAAgAsBgAUAAQABAAAAgVUYqeXUgAh+QQFCgACACwAAA4ABAAEAAACBVRip5dSACH5BAUKAAIALAAABgAEAAQAAAIFVGKnl1IAIfkECQoAAgAsBgAAAAQABAAAAgVUYqeXUgAh+QQJCgACACwAAAAAGAAYAAACJZQvEWgADI1SyLnI5jr2YUQx10eW5omm6sq27gvH8kzX9o3ndAEAIfkECQoAAgAsAAAAABgAGAAAAkCULxFoAAyNUsi5yOY69mFEMddHluYZntyjqY3Vul2yucJo5/rOQ6lLiak0QtSEpvv1lh8l0lQsYqJHaO3gFBQAACH5BAkKAAIALAAAAAAYABgAAAJAlC8RaAAMjVLIucjmOvZhRDHXR5bmGZ7co6mN1bpdsrnCaOf6zkOpzJrYOjHV7Gf09JYlJA0lPBQ/0ym1JsUeCgAh+QQJCgACACwAAAAAGAAYAAACQJQvEWgADI1SyLnI5jr2YUQx10eW5hme3KOpjdW6XbK5wmjn+s5Dqcya2Dox1exn9PSWJeRNSSo+cR/pzOSkHgoAIfkECQoAAgAsAAAAABgAGAAAAkCULxFoAAyNUsi5yOY69mFEMddHluYZntyjqY3Vul2yucJo5/rOQ6nMmtg6MdXsZ/T0liXc6jRbOTHR15SqfEIKACH5BAkKAAIALAAAAAAYABgAAAJAlC8RaAAMjVLIucjmOvZhRDHXR5bmGZ7co6mN1bpdsrnCaOf6zkO4/JgBOz/TrHhC9pYRpNJnqURLwtdT5JFGCgAh+QQJCgACACwAAAAAGAAYAAACPpQvEWgADI1SyLnI5jr2YUQx10eW5jme3NOpTWe5Qpu6tYzn+l558tWywW4lmk/IS6KOr2UtSILOYiYiUVAAADs=">
                        <span class="ms-accentText dialog-accentText">
                            &nbsp; <font color="#000000">Trabajando en ello...</font>
                        </span>
                    </h2>
                </div>
            </div>

        </div>
    </div>
</div>

<style type="text/css">
    .modal {
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.3); /* Black w/ opacity */
        filter: alpha(opacity=60);
        opacity: 0.6;
    }
</style>
